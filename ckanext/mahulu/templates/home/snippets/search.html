{% set tags = h.get_facet_items_dict('tags', search_facets, limit=6) %}
{% set placeholder = _('E.g. environment') %}
{% set dataset_type = h.default_package_type() %}

<form method="get" action="{% url_for dataset_type ~ '.search' %}" class="max-w-3xl mx-auto">
  <div class="relative flex items-center bg-white rounded-full shadow-lg overflow-hidden ring-1 ring-gray-200 focus-within:ring-2 focus-within:ring-green-500 transition">
    <input
      aria-label="{% block header_site_search_label %}{{ h.humanize_entity_type('package', dataset_type, 'search placeholder') or _('Search datasets') }}{% endblock %}"
      type="text"
      name="q"
      id="field-main-search"
      autocomplete="off"
      class="w-full pl-6 pr-4 py-3 text-gray-900 placeholder-gray-500 bg-transparent focus:outline-none sm:text-base"
      placeholder="{% block search_placeholder %}{{ placeholder }}{% endblock %}"
    />
    <button
      type="submit"
      class="flex-shrink-0 h-12 w-12 rounded-full bg-green-500 hover:bg-green-600 text-white flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition"
      aria-label="{{ _('Search') }}"
    >
      <i class="fa-solid fa-magnifying-glass"></i>
    </button>
  </div>
</form>

{# Uncomment to display popular tags
<div class="mt-6 max-w-3xl mx-auto">
  <h3 class="text-sm font-semibold text-gray-600 mb-3">{{ _('Popular tags') }}</h3>
  <div class="flex flex-wrap gap-2">
    {% for tag in tags %}
      <a
        class="inline-flex items-center px-3 py-1.5 rounded-full text-sm bg-indigo-100 text-indigo-700 hover:bg-indigo-200 transition"
        href="{% url_for 'dataset.search', tags=tag.name %}"
      >
        {{ tag.display_name|truncate(22) }}
      </a>
    {% endfor %}
  </div>
</div>
#}
